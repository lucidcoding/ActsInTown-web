<sd-loading-overlay-spinner *ngIf="viewModel.elementState === 0"></sd-loading-overlay-spinner>
<div class="standard-page">
    <div class="container container-messages row-separated">
        <div class="row">
            <div class="col-sm-12">
                <h1>Conversation with {{viewModel.otherUserName}}</h1>
            </div>
        </div>
        <div class="row" *ngIf="viewModel.elementState === 1">
            <div class="col-sm-12 ">
                <p>There was an error loading your spots.</p>
            </div>
        </div>
        <div class="row" *ngIf="viewModel.elementState === 2">
            <div class="col-sm-12 ">
                <p>This conversation contains no messages.</p>
            </div>
        </div>
        <div class="row row-messages" >
            <div class="col-sm-12 column-messages">
                <div #scrollMe class="holder-messages">
                    <div class="holder-messages-inner">
                        <div class="row" *ngFor="let message of viewModel.messages">
                            <div class="col-sm-12 ">
                                <div class="list-record clearfix">
                                    <a class="avatar" href="#">
                                        <img src="{{message.imageUrl}}"/>
                                    </a>
                                    <div class="details">
                                        <h2>{{message.fullName}}</h2>
                                        <h3 class="subtitle">
                                            <i class="fa fa-clock-o"></i>
                                            {{message.addedOn}}
                                        </h3>
                                        <p>{{message.body}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <form (ngSubmit)="createMessage(createMessageForm)" #createMessageForm="ngForm" class="form-horizontal" role="form" novalidate >
                    <div  [class.has-error]="createMessageForm.newMessageBody && !newMessageBody.valid" >
                
                            <input class="form-control" style="width:50%;display:inline;" type="text" [(ngModel)]="viewModel.newMessageBody" #newMessageBody="ngModel" name="newMessageBody" 
                                maxlength="255"/>
                            <!--<div *ngIf="createMessageForm.submitted">
                                <div class="help-block" *ngIf="newMessageBody.errors && newMessageBody.errors.required">
                                    Message field is required.
                                </div>
                                <div class="help-block" *ngIf="newMessageBody.errors && newMessageBody.errors.maxlength">
                                    Message field cannot be more than 50 characters.
                                </div>
                            </div>-->
                            
                            <button type="submit" class="btn btn-success">Send</button>
                
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>